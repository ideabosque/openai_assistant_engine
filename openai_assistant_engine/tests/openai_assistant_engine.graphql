fragment AskOpenAIInfo on AskOpenAIType {
    assistantId
    threadId
    question
    currentRunId
}

fragment LastMessageInfo on LastMessageType {
    threadId
    role
    message
}

fragment CurrentRunInfo on CurrentRunType {
    threadId
    runId
    status
}

query ping {
    ping
}

query askOpenAi(
    $question: String!,
    $assistantId: String!,
    $threadId: String
) {
    askOpenAi(
        question: $question,
        assistantId: $assistantId,
        threadId: $threadId
    ) {
        ...AskOpenAIInfo
    }
}

query getLastMessage(
    $threadId: String!,
    $role: String!
) {
    lastMessage(
        threadId: $threadId,
        role: $role
    ){
        ...LastMessageInfo
    }
}

query getCurrentRun(
    $threadId: String!,
    $runId: String!
) {
    currentRun(
        threadId: $threadId,
        runId: $runId
    ){
        ...CurrentRunInfo
    }
}